---
layout: post
title: "虚拟机下网络连接探讨"
date:   2016-08-02 22:04:21
---
虚拟机下网络连接探讨

我研究虚拟机上网最初目的是怕打开一些不安全网页损害主机系统，于是在虚拟机中连接网络。
这需要很多配置过程，以下总结了一些可能存在的出错情况，这些将导致虚拟机连接不到外网。
1.虚拟机不能正常打开
这种情况下虚拟机会出现“内部错误”对话框，之后虚拟机无法运行。解决方式是在VMware图标上按右键，用管理员身份运行，就会解决。
2.主机中有关VMare的服务没有打开。
此时打开控制面板——系统安全——管理工具——打开服务，将相关VMware的服务打开如图
 ![1.png]({{ '/images/2016/08/02/1.png' | prepend: site.url }})
如果无法打开这些服务，也有办法。
![2.png]({{ '/images/2016/08/02/2.png' | prepend: site.url }})
在虚拟机，编辑——网络编辑器中，选择恢复默认设置，再重新启动服务，就可以了。

3.虚拟机未选择正确连接网络类型。
如上图，选择NAT模式即可
4.未给虚拟机分配动态IP
![3.png]({{ '/images/2016/08/02/3.png' | prepend: site.url }})
如图，在虚拟机中打开本地连接，选择Internet协议，属性，配置为自动获得IP\DNS
![4.png]({{ '/images/2016/08/02/4.png' | prepend: site.url }})



下面介绍两个虚拟机互联的问题。
在保证虚拟机正常连上网后，再在安装一个虚拟机
![5png]({{ '/images/2016/08/02/5.png' | prepend: site.url }})
然后将两个虚拟机都选择为桥接模式，这样两个虚拟机即链接在同一个交换机上。查看一下虚拟机ip
虚拟机1为：192.168.61.128
![6.png]({{ '/images/2016/08/02/6.png' | prepend: site.url }})

机2为：192.168.61.129
![7.png]({{ '/images/2016/08/02/7.png' | prepend: site.url }})


然后用虚拟机1ping一下虚拟机2

Ping通了，证明两个虚拟机成功相连
